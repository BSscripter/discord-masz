<nav class="mb-1 navbar navbar-expand-lg navbar-dark" style="background-color: #5E5B52;">
    <div class="container">
        <a class="navbar-brand" (click)="this.router.navigate(['guilds'])" style="color: #fff" *ngIf="this.currentUser | async">MASZ</a>
        <a class="navbar-brand" (click)="this.router.navigate(['login'])" style="color: #fff" *ngIf="! (this.currentUser | async)">MASZ</a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent-3" aria-controls="navbarSupportedContent-3" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse" id="navbarSupportedContent-3">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item" *ngIf="this.currentUser | async">
                    <a class="nav-link waves-effect waves-light" (click)="this.router.navigate(['guilds'])">Guilds</a>
                </li>
                <li class="nav-item" *ngIf="this.currentUser | async">
                    <a class="nav-link waves-effect waves-light" (click)="navigateToProfile()">Profile</a>
                </li>
                <li class="nav-item" *ngIf="(this.currentUser | async)?.isAdmin">
                    <a class="nav-link waves-effect waves-light" (click)="this.router.navigate(['guilds', 'new'])">Register guild</a>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto nav-flex-icons" *ngIf="this.currentUser | async">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle waves-effect waves-light p-0 m-auto" id="navbarDropdownMenuLink"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img
                                src="{{ (this.currentUser | async)?.discordUser?.imageUrl }}"
                                class="rounded-circle z-depth-0"
                                alt="avatar image"
                                height="38"
                        />
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-default"
                            aria-labelledby="navbarDropdownMenuLink">
                        <span class="dropdown-item waves-effect waves-light" (click)="navigateToProfile()">
                            Logged in as
                             <span class="text-danger">
                                 {{ (this.currentUser | async)?.discordUser?.username }}#{{ (this.currentUser | async)?.discordUser?.discriminator }}
                            </span>
                        </span>
                        <span class="dropdown-item waves-effect waves-light" (click)="navigateToProfile()">
                            View profile
                        </span>
                        <span class="dropdown-item waves-effect waves-light" *ngIf="(this.currentUser | async)?.isAdmin" onclick="window.location.href='/api/v1/meta/adminstats'">
                            Congratulations, you are a site admin!
                        </span>
                        <span class="dropdown-item waves-effect waves-light" onclick="window.location.href='/api/v1/logout'">
                            Logout
                        </span>
                    </div>
                </li>
            </ul>
            <div class="btn btn-elegant px-3" (click)="this.router.navigate(['patchnotes'])">
                <i class="fas fa-code-branch fa-fw" aria-hidden="true"></i>
            </div>
            <button type="button" class="btn btn-elegant px-3" (click)="this.router.navigate(['donate'])">
                <i class="fas fa-donate fa-fw" aria-hidden="true"></i>
            </button>
            <button type="button" class="btn btn-elegant px-3" (click)="this.router.navigate(['settings'])">
                <i class="fas fa-sliders-h fa-fw" aria-hidden="true"></i>
            </button>
            <button type="button" class="btn btn-danger px-3" *ngIf="(this.currentUser | async)?.isAdmin && this.githubReleases.length !== 0 && this.currentVersion?.version !== this.githubReleases[0]?.tag_name" (click)="showUpdateWarning()">
                <i class="fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>
            </button>
        </div>
    </div>
</nav>