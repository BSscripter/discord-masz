<div class="d-flex flex-row flex-wrap align-items-start mb-2">
    <div class="d-flex flex-column flex-wrap mb-2">
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="excludeAutoMod-{{uniqueIdentifier}}" [(ngModel)]="excludeAutoModeration" (ngModelChange)="applyCurrentFilters()">
            <label class="custom-control-label" for="excludeAutoMod-{{uniqueIdentifier}}" title="This filter will only work for automoderation events since release v1.8">
                Exclude AutoModerations?
            </label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="excludePerma-{{uniqueIdentifier}}" [(ngModel)]="excludePermaPunishments" (ngModelChange)="applyCurrentFilters()">
            <label class="custom-control-label" for="excludePerma-{{uniqueIdentifier}}">Exclude permanent punishments?</label>
        </div>
    </div>
    <div class="flex-grow-1"></div>
    <div class="d-flex flex-column" *ngIf="this.isModOrHigher | async">
        <button class="btn btn-success mt-0" (click)="this.router.navigate(['guilds', this.guildId, 'cases', 'new'])">
            Create new Case
        </button>
    </div>
    <div class="md-form m-0">
        <input type="text" id="form-search" class="form-control" autocomplete="off" [attr.disabled]="this.loading ? '' : null"
         placeholder="Search" [(ngModel)]="this.search" (ngModelChange)="searchChanged($event)">
    </div>
</div>
<div *ngIf="this.loading" class="d-flex flex-row" >
    <div class="flex-grow-1"></div>
    <img src="assets/img/spinner.gif" />
    <div class="flex-grow-1"></div>
</div>
<div class="d-flex flex-column" *ngIf="!this.loading">
    <app-case-card *ngFor="let case of this.showTable"
     [entry]="case" class="mb-2">
    </app-case-card>
    <div class="d-flex flex-row" *ngIf="this.showTable.length !== 0 && !this.search?.trim() && this.casesTable?.length % 20 === 0">
        <div class="flex-grow-1"></div>
        <button class="btn btn-primary" (click)="loadNextPage()">
            Load more cases
        </button>
        <div class="flex-grow-1"></div>
    </div>
    <div class="card rounded m-2 mb-3" *ngIf="this.showTable.length === 0">
        <div class="card-body">
            <h4 class="card-title"><a>Nothing here.</a></h4>
            <p class="card-text">No case matches your search.</p>
        </div>
    </div>
</div>