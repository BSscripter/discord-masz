{% extends 'base.html.twig' %}

{% block body %}

    <style>
        .custom-btn {
            display: block;
            height: 300px;
            width: 300px;
            border-radius: 50%;
            border: 3px solid grey;
        }

        .center-container {
            display: grid;
            place-items: center;
        }

        #card-overview > div {
            margin: 8px;
            width: 18rem;
        }
        #card-overview .card-img-top {
            width: 100%;
            height: 10vw;
            object-fit: cover;
        }
    </style>

    <div class="container d-flex flex-column">
        <div class="mb-5"></div>
        <div class="flex-grow-1 center-container">
            <a class="custom-btn align-self-center m-3 d-flex flex-column flex-wrap justify-content-center bg-dark text-light login-btn"
               href="/api/v1/login?ReturnUrl={{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')) }}">
                <div class="align-self-center justify-content-center text-center w-100 font-weight-bold">LOGIN WITH
                    DISCORD
                </div>
                <i class="fab fa-discord fa-9x align-self-center justify-content-center text-center w-100"></i>
            </a>
        </div>

        {% if basic_data.errors|default %}
            {% if basic_data.errors is not empty%}
                <div class="card mt-3 text-danger background-blink" id="fade-it">
                    <div class="card-body">
                        <h5 class="card-title font-weight-bold">An Error occurred</h5>
                        {% for message in basic_data.errors %}
                            <span class="card-text" style="white-space: pre-wrap;">{{ message }}</span><br/>
                        {% endfor %}
                    </div>
                </div>
            {% endif %}
        {% endif %}

        <div class="d-flex p-2 justify-content-center flex-wrap" id="card-overview">
            <div class="card">
                <div class="view overlay">
                    <img class="card-img-top" src="{{ asset('img/masz.png') }}"
                         alt="Card image cap">
                    <a href="#!">
                        <div class="mask rgba-white-slight"></div>
                    </a>
                </div>
                <div class="card-body">
                    <h5 class="card-title">MASZ - A Discord moderation tool</h5>
                    <p class="card-text">
                        MASZ is a management and moderation overview tool for <span class="font-weight-bold">Discord Moderators and Admins</span>.
                        Keep track of all <span class="font-weight-bold">moderation events</span> on your server, <span class="font-weight-bold">search reliably</span> for entries and be one step ahead of trolls and rule breakers.
                    </p>
                </div>
            </div>
            <div class="card">
                <div class="view overlay">
                    <img class="card-img-top" src="{{ asset('img/clipboard.png') }}"
                         alt="Card image cap">
                    <a href="https://github.com/zaanposni/discord-masz/tree/master/docs">
                        <div class="mask rgba-white-slight"></div>
                    </a>
                </div>
                <div class="card-body">
                    <h5 class="card-title">Modcases</h5>
                    <p class="card-text">
                        The core of this tool are the modcases,
                        a case represents a <span class="font-weight-bold">rule violation</span>, an <span class="font-weight-bold">important note</span> or similar.
                        The server members and your moderators can be notified individually upon case creation.
                    </p>
                    <!-- Button -->
                    <a href="https://github.com/zaanposni/discord-masz/tree/master/docs" type="button" class="btn btn-purple">
                        <i class="fab fa-github" aria-hidden="true"></i> Preview
                    </a>
                </div>
            </div>
            <div class="card">
                <div class="view overlay">
                    <img class="card-img-top" src="{{ asset('img/comments.png') }}"
                         alt="Card image cap">
                    <a href="#!">
                        <div class="mask rgba-white-slight"></div>
                    </a>
                </div>
                <div class="card-body">
                    <h5 class="card-title">Comments and rehabilitation</h5>
                    <p class="card-text">The user for whom the case was created can see everything on the website, <span class="font-weight-bold">take a stand by commenting on it</span> and your server is moderated transparently.</p>
                </div>
            </div>
            <div class="card">
                <div class="view overlay">
                    <img class="card-img-top" src="{{ asset('img/github.png') }}"
                         alt="Card image cap">
                    <a href="https://github.com/zaanposni/discord-masz">
                        <div class="mask rgba-white-slight"></div>
                    </a>
                </div>
                <div class="card-body">
                    <h5 class="card-title">Open Source</h5>
                    <p class="card-text">The source code can be found on <span class="font-weight-bold">GitHub</span>. Feel free to check it out. <span class="font-weight-bold">Contributions</span> are welcome!</p>
                    <!-- Button -->
                    <a href="https://github.com/zaanposni/discord-masz" type="button" class="btn btn-purple">
                        <i class="fab fa-github" aria-hidden="true"></i> Read more
                    </a>
                </div>
            </div>
            <div class="card">
                <div class="view overlay">
                    <img class="card-img-top" src="{{ asset('img/rocket.png') }}"
                         alt="Card image cap">
                    <a href="https://github.com/zaanposni/discord-masz#setup---installation">
                        <div class="mask rgba-white-slight"></div>
                    </a>
                </div>
                <div class="card-body">
                    <h5 class="card-title">Easy to setup</h5>
                    <p class="card-text">The application can be hosted using <span class="font-weight-bold">Docker</span>. Follow our step by step guide to <span class="font-weight-bold">setup your own MASZ instance.</span></p>
                    <!-- Button -->
                    <a href="https://github.com/zaanposni/discord-masz#setup---installation" type="button" class="btn btn-purple">
                        <i class="fab fa-github" aria-hidden="true"></i> Setup guide
                    </a>
                </div>
            </div>
            <div class="card">
                <div class="view overlay">
                    <img class="card-img-top" src="{{ asset('img/feature.png') }}"
                         alt="Card image cap">
                    <a href="https://github.com/zaanposni/discord-masz/releases">
                        <div class="mask rgba-white-slight"></div>
                    </a>
                </div>
                <div class="card-body">
                    <h5 class="card-title">Feature rich</h5>
                    <p class="card-text">Check out the GitHub release page to stay up to date with newest features and fixes!</p>
                    <!-- Button -->
                    <a href="https://github.com/zaanposni/discord-masz/releases" type="button" class="btn btn-purple">
                        <i class="fab fa-github" aria-hidden="true"></i> GitHub
                    </a>
                </div>
            </div>
        </div>
    </div>

{% endblock body %}
{% block scriptblock %}

    <script>
        function readCookie(name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for(var i=0;i < ca.length;i++) {
                var c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1,c.length);
                if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
            }
            return null;
        }

        $(document).ready(function () {
            let darkMode = readCookie('darkmode');
            if (darkMode === 'true' || darkMode === null) {  // default dark
                $('#darkmode').attr('disabled', false);
            } else {
                $('#darkmode').attr('disabled', true);
            }
        });
    </script>

{% endblock scriptblock %}
